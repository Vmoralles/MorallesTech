<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/style.cruzadinha.css">
    <link rel="shortcut icon" href="../assent/Escudo.png" type="image/x-icon">
    <title>Ministério | Cruzadinha</title>
</head>

<body>
    <header>
        <div id="logo-Ministerio">
            <a href="../site_index.html">
                <img src="../assent/Escudo.png" alt="escudo">
            </a>
        </div>
        <nav>
            <ul>
                <li><a href="../site_index.html">INICIO</a></li>
                <li><a href="site.jogos.html">JOGOS</a></li>
                <li><a href="site.treino.html">TREINOS</a></li>
            </ul>
        </nav>
        <div id="logo-Sair">
            <a href="../site.login.html">
                <img src="../assent/sair (1).png" alt="sair">
            </a>
        </div>
    </header>
</body>
<div class="tema">
    <div class="top">
        <span class="titulo">Palavras - Cruzadas</span>
    </div>
    <div class="mid">
        <article>
            <div>
                <div id="div_information">
                    <h2>Intruções do Jogo</h2>
                    <p>
                        Clique em "Começar o Jogo" para iniciar uma partida <br><br>
                        Perguntas serão exibidas na parte inferior do quadro <br><br>
                        Insira a sua resposta na caixa de texto e clique em "Verificar" para conferir a sua
                        resposta<br><br>
                        A partida acaba quando as 16 questões forem respondidas <br><br>
                    </p>
                </div>
                <div style="display: none" id="div_verifiedAnswer">
                    <h3></h3>
                </div>
            </div>
            <br>
            <div id="div_canvasCruzada"></div>
            <br>
            <div style="display: none" id="div_questions">
                <center>
                    <span id="span_questionText">Vamos encontrar as esferas do dragao</span>
                    <input type="text" id="input_answer" placeholder="Sua Reposta"><br>
                    <button id="button_verify" onclick="verify()" class="botao-2">Verificar</button>
                </center>


            </div>
        </article>
    </div>
    <div class="low">
        <center>
            <button class="botao" id="bt_start" onclick="start()">Começar o Jogo</button>
            <button class="botao" style="display: none" id="bt_destroyGame" onclick="destroyGrid()">Encerrar o
                Jogo</button>
        </center>
    </div>
</div>

</html>

<script>
    var special_words = ['Pele', 'La Bombonera', 'Real Madrid', 'Uruguai', 'Goleiro', 'Neymar', 'Maracana', 'Kaka', 'Russia', 'Italia'];

    var questions_list = [
        'Jogador que marcou mais gols na história da Copa do Mundo.',
        'Nome do estádio mais famoso de Buenos Aires, Argentina?',
        'Maior rival do Barcelona?',
        'O país que sediou a primeira Copa do Mundo em 1930?',
        'Posição do jogador que normalmente defende o gol?',
        'O jogador mais caro da história do futebol?',
        'Qual é o nome do estádio que sediou a final da Copa do Mundo de 2014 no Brasil?',
        'Qual é o único jogador a ganhar o prêmio de melhor do mundo da FIFA enquanto jogava pelo Milan e pelo Real Madrid??',
        'Qual país sediou a Copa do Mundo de 2018?',
        'Qual seleção nacional ganhou a Copa do Mundo de 2006?'
    ];

    var filledCell = [2, 3, 4, 5, 22, 40, 58, 76, 94, 112, 130, 148, 166, 184, 202, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 85, 103, 121, 139, 157, 175, 129, 131, 132, 133, 134, 135, 207, 225, 243, 261, 279, 297, 315, 120, 121, 122, 123, 124, 125, 277, 278, 279, 280, 281, 114, 132, 150, 168, 186, 282, 204, 264, 300, 318, 282
    ];

    var firstIndex = [2, 4, 184, 85, 129, 114, 189, 264, 120, 277];

    var word = {

        word1: {
            letter: special_words[0].split(''),
            position: [2, 3, 4, 5],
            write: function () {

                for (i in word.word1.letter) {
                    var findCell = document.querySelector(`#cell_${word.word1.position[i]}`);

                    findCell.innerHTML = word.word1.letter[i];
                    console.log(word.word1.letter[i]);
                }
                cell_2.innerHTML = '<span style="color: red; font-size:10px">1</span>P';
            }
        },
        word2: {
            letter: special_words[1].split(''),
            position: [4, 22, 40, 58, 76, 94, 112, 130, 148, 166, 184, 202],
            write: function () {
                for (i in word.word2.letter) {
                    var findCell = document.querySelector(`#cell_${word.word2.position[i]}`);

                    findCell.innerHTML = word.word2.letter[i];
                    console.log(word.word2.letter[i]);
                }
                cell_4.innerHTML = '<span style="color: red; font-size:10px">2</span>L';

            }
        },
        word3: {
            letter: special_words[2].split(''),
            position: [184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194],
            write: function () {
                for (i in word.word3.letter) {
                    var findCell = document.querySelector(`#cell_${word.word3.position[i]}`);

                    findCell.innerHTML = word.word3.letter[i];
                    console.log(word.word3.letter[i]);
                }
                cell_184.innerHTML = '<span style="color: red; font-size:10px">3</span>R';
            }
        },
        word4: {
            letter: special_words[3].split(''),
            position: [85, 103, 121, 139, 157, 175, 193],
            write: function () {
                for (i in word.word4.letter) {
                    var findCell = document.querySelector(`#cell_${word.word4.position[i]}`);

                    findCell.innerHTML = word.word4.letter[i];
                    console.log(word.word4.letter[i]);
                }
                cell_85.innerHTML = '<span style="color: red; font-size:10px">4</span>U';
            }
        },
        word5: {
            letter: special_words[4].split(''),
            position: [129, 130, 131, 132, 133, 134, 135],
            write: function () {
                for (i in word.word5.letter) {
                    var findCell = document.querySelector(`#cell_${word.word5.position[i]}`);

                    findCell.innerHTML = word.word5.letter[i];
                    console.log(word.word5.letter[i]);
                }
                cell_129.innerHTML = '<span style="color: red; font-size:10px">5</span>G';
            }
        },
        word6: {
            letter: special_words[5].split(''),
            position: [114, 132, 150, 168, 186, 204],
            write: function () {
                for (i in word.word6.letter) {
                    var findCell = document.querySelector(`#cell_${word.word6.position[i]}`);

                    findCell.innerHTML = word.word6.letter[i];
                    console.log(word.word6.letter[i]);
                }
                cell_144.innerHTML = '<span style="color: red; font-size:10px">6</span>N';
            }
        },
        word7: {
            letter: special_words[6].split(''),
            position: [189, 207, 225, 243, 261, 279, 297, 315],
            write: function () {
                for (i in word.word7.letter) {
                    var findCell = document.querySelector(`#cell_${word.word7.position[i]}`);

                    findCell.innerHTML = word.word7.letter[i];
                    console.log(word.word7.letter[i]);
                }
                cell_189.innerHTML = '<span style="color: red; font-size:10px">7</span>M';
            }
        },
        word8: {
            letter: special_words[7].split(''),
            position: [264, 282, 300, 318],
            write: function () {
                for (i in word.word8.letter) {
                    var findCell = document.querySelector(`#cell_${word.word8.position[i]}`);

                    findCell.innerHTML = word.word8.letter[i];
                    console.log(word.word8.letter[i]);
                }
                cell_264.innerHTML = '<span style="color: red; font-size:10px">8</span>K';

            }
        },
        word9: {
            letter: special_words[8].split(''),
            position: [120, 121, 122, 123, 124, 125],
            write: function () {
                for (i in word.word9.letter) {
                    var findCell = document.querySelector(`#cell_${word.word9.position[i]}`);

                    findCell.innerHTML = word.word9.letter[i];
                    console.log(word.word9.letter[i]);
                }
                cell_120.innerHTML = '<span style="color: red; font-size:10px">9</span>R';
            }
        },
        word10: {
            letter: special_words[9].split(''),
            position: [277, 278, 279, 280, 281, 282],
            write: function () {
                for (i in word.word10.letter) {
                    var findCell = document.querySelector(`#cell_${word.word10.position[i]}`);

                    findCell.innerHTML = word.word10.letter[i];
                    console.log(word.word10.letter[i]);
                }
                cell_277.innerHTML = '<span style="color: red; font-size:10px">10</span>I';
            }
        },
    };

    var widthTable = 18;
    var heightTable = 18;


    var cont_correctAnswer = 0;

    function start() {
        cont_correctAnswer = 0;
        bt_start.style.display = 'none';
        bt_destroyGame.style.display = 'block';
        div_questions.style.display = 'block';
        div_information.innerHTML = '';
        renderGrid();
        gameSequence();

    }

    function destroyGrid() {
        bt_start.style.display = 'block';
        bt_destroyGame.style.display = 'none';
        div_questions.style.display = 'none';

        document.querySelector('#div_canvasCruzada').innerHTML = '';
        pontuation();
    }

    function gameSequence() {
        span_questionText.innerHTML = `<b>${cont_correctAnswer + 1}.</b> ${questions_list[cont_correctAnswer]}`;

        if (cont_correctAnswer == 1) {
            word.word1.write();
        }
        else if (cont_correctAnswer == 2) {
            word.word2.write();
        }
        else if (cont_correctAnswer == 3) {
            word.word3.write();
        }
        else if (cont_correctAnswer == 4) {
            word.word4.write();
        }
        else if (cont_correctAnswer == 5) {
            word.word5.write();
        }
        else if (cont_correctAnswer == 6) {
            word.word6.write();
        }
        else if (cont_correctAnswer == 7) {
            word.word7.write();
        }
        else if (cont_correctAnswer == 8) {
            word.word8.write();
        }
        else if (cont_correctAnswer == 9) {
            word.word9.write();
        }
        else if (cont_correctAnswer == 10) {
            word.word10.write();
        }
        else if (cont_correctAnswer == 11) {
            word.word11.write();
        }
        else if (cont_correctAnswer == 12) {
            word.word12.write();
        }
        else if (cont_correctAnswer == 13) {
            word.word13.write();
        }
        else if (cont_correctAnswer == 14) {
            word.word14.write();
        }
        else if (cont_correctAnswer == 15) {
            word.word15.write();
        }
        else if (cont_correctAnswer == 16) {
            word.word16.write();

            setTimeout(function () {
                destroyGrid();
            }, 3000);
        }


    }


    function pontuation() {
        div_information.style.display = 'block';

        div_information.innerHTML = '<h1 style="text-align: center;">Parabéns!!</h1><br><br><p style="text-align: center;">Você finalizou o jogo</p><br><br>';
    }

    function renderGrid() {
        var tableGame = '<table id="gridGame" cellspacing=0 cellpadding=0>';

        // &nbsp its used to set null value to a cell
        var cellContent_tableGame = '&nbsp';
        var cell = 0;
        for (var row = 1; row <= heightTable; row++) {

            tableGame += `<tr id="row_${row}">`;

            for (var column = 1; column <= widthTable; column++, cell++) {
                tableGame += `<td class="deadCell" id="cell_${cell}">` + cellContent_tableGame + '</td>';

            }
            tableGame += '</tr>';

        }
        tableGame += '</table>';

        document.querySelector('#div_canvasCruzada').innerHTML = tableGame;

        paintCells();
    }



    function paintCells() {

        for (item in filledCell) {
            var paintCell = document.getElementById(`cell_${filledCell[item]}`);
            paintCell.removeAttribute('deadCell');
            paintCell.setAttribute('class', 'availableCell');
        }

        for (var initial = 0; initial < firstIndex.length; initial++) {
            var paintIndex_cell = document.getElementById(`cell_${firstIndex[initial]}`);

            paintIndex_cell.innerHTML = `<span style="color: red; font-size:10px">${initial + 1}</span>`;
        }
    }

    function verify() {
        var answer = input_answer.value;

        if (answer != '') {
            // answer = answer.toLowerCase();
            if (answer == special_words[cont_correctAnswer]) {
                div_verifiedAnswer.classList.add('correctAnswer');
                cont_correctAnswer++;
            }
            else {
                div_verifiedAnswer.classList.add('wrongAnswer');
                div_verifiedAnswer.innerHTML = '<br>Resposta Incorreta, tente novamente';
                setTimeout(function () {
                    div_verifiedAnswer.style.display = 'block';
                }, 500);

                setTimeout(function () {
                    div_verifiedAnswer.style.display = 'none';
                }, 3000);
            }

            input_answer.value = '';
            gameSequence();
        }
        else {
            alert('Por Favor, digite uma resposta na caixa de texto');
        }
    }
</script>